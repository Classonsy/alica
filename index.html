<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>СОВА - Главная</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="modal.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">
                <div class="coffee-bean-icon"></div>
                <h1>СОВА</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="menu.html">МЕНЮ КОФЕЙНИ</a></li>
                    <li><a href="our-coffee-shops.html">НАШИ КОФЕЙНИ</a></li>
                    <li><a href="contacts.html">КОНТАКТЫ</a></li>
                    <li><a href="news.html">НОВОСТИ</a></li>
                    <li><a href="franchise.html">ФРАНШИЗА</a></li>
                    <li><a href="work-with-us.html">ВАКАНСИИ</a></li>
                </ul>
            </nav>
            <div class="icons">
                <a href="#" class="icon cart"><span class="cart-counter"></span></a>
                <a href="#" class="icon user"></a>
            </div>
        </div>
    </header>

    <main class="main-content">
        <section class="hero">
            <div class="container">
                <h2>КОФЕ ДЛЯ ТЕХ, КТО НЕ СПИТ</h2>
                <p>Насладитесь лучшим кофе в городе</p>
                <button class="cta-button" onclick="document.querySelector('.popular-menu').scrollIntoView({behavior: 'smooth'})">НАЙТИ КОФЕЙНЮ</button>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon"></div>
                        <h3>СВЕЖЕОБЖАРЕННЫЙ КОФЕ</h3>
                        <p>Мы обжариваем кофе каждый день</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"></div>
                        <h3>АВТОРСКИЕ НАПИТКИ</h3>
                        <p>Уникальные рецепты от наших бариста</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"></div>
                        <h3>УЮТНАЯ АТМОСФЕРА</h3>
                        <p>Идеальное место для работы и отдыха</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="popular-menu">
            <div class="container">
                <h2>ПОПУЛЯРНЫЕ НАПИТКИ</h2>
                <div class="menu-preview">
                    <div class="menu-item" data-product="coffee-tonic">
                        <div class="item-image coffee-tonic"></div>
                        <div class="item-tag new">NEW</div>
                        <h3>Кофе тоник</h3>
                        <div class="item-price">от 270₽</div>
                    </div>
                    <div class="menu-item" data-product="frappe">
                        <div class="item-image frappe"></div>
                        <div class="item-tag best">BEST</div>
                        <h3>Фраппе</h3>
                        <div class="item-price">от 320₽</div>
                    </div>
                    <div class="menu-item" data-product="bumble">
                        <div class="item-image bumble"></div>
                        <div class="item-tag new">NEW</div>
                        <h3>Бамбл</h3>
                        <div class="item-price">от 270₽</div>
                    </div>
                </div>
                <a href="menu.html" class="view-all">СМОТРЕТЬ ВСЕ МЕНЮ</a>
            </div>
        </section>
    </main>

    <!-- Модальные окна для товаров -->
    <div class="product-modal" id="coffee-tonic-modal">
        <div class="modal-content">
            <div class="modal-close"></div>
            <div class="modal-product-image" style="background-image: url('img/Кофе-тоник_2045х1147-1.jpg');"></div>
            <div class="modal-product-info">
                <h3 class="modal-product-name">Кофе тоник</h3>
                <p class="modal-product-description">Освежающий напиток на основе эспрессо и тоника. Идеальное сочетание горечи кофе и сладости тоника с нотками цитрусовых.</p>
                
                <div class="modal-nutrition">
                    <h4>Пищевая ценность (на 100 мл):</h4>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <span class="nutrition-name">Калории</span>
                            <span class="nutrition-value">45 ккал</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Белки</span>
                            <span class="nutrition-value">0.2 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Жиры</span>
                            <span class="nutrition-value">0.1 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Углеводы</span>
                            <span class="nutrition-value">10.5 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Кофеин</span>
                            <span class="nutrition-value">80 мг</span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-sizes">
                    <h4>Размеры и цены:</h4>
                    <div class="size">
                        <span class="volume">S (250 мл)</span>
                        <span class="price">270 ₽</span>
                    </div>
                    <div class="size">
                        <span class="volume">M (350 мл)</span>
                        <span class="price">320 ₽</span>
                    </div>
                    <div class="size">
                        <span class="volume">L (450 мл)</span>
                        <span class="price">370 ₽</span>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <div class="quantity-selector">
                        <button class="quantity-btn minus">-</button>
                        <input type="number" value="1" min="1" max="99">
                        <button class="quantity-btn plus">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="1" data-size="S">Добавить в корзину</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="product-modal" id="frappe-modal">
        <div class="modal-content">
            <div class="modal-close"></div>
            <div class="modal-product-image" style="background-image: url('img/Латте_2045х1147.jpg');"></div>
            <div class="modal-product-info">
                <h3 class="modal-product-name">Фраппе</h3>
                <p class="modal-product-description">Холодный кофейный напиток с молоком и льдом. Взбитый до кремовой текстуры, с нежным кофейным вкусом и легкой сладостью.</p>
                
                <div class="modal-nutrition">
                    <h4>Пищевая ценность (на 100 мл):</h4>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <span class="nutrition-name">Калории</span>
                            <span class="nutrition-value">120 ккал</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Белки</span>
                            <span class="nutrition-value">3.5 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Жиры</span>
                            <span class="nutrition-value">4.2 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Углеводы</span>
                            <span class="nutrition-value">15.8 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Кофеин</span>
                            <span class="nutrition-value">65 мг</span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-sizes">
                    <h4>Размеры и цены:</h4>
                    <div class="size">
                        <span class="volume">S (300 мл)</span>
                        <span class="price">320 ₽</span>
                    </div>
                    <div class="size">
                        <span class="volume">M (400 мл)</span>
                        <span class="price">370 ₽</span>
                    </div>
                    <div class="size">
                        <span class="volume">L (500 мл)</span>
                        <span class="price">420 ₽</span>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <div class="quantity-selector">
                        <button class="quantity-btn minus">-</button>
                        <input type="number" value="1" min="1" max="99">
                        <button class="quantity-btn plus">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="2" data-size="S">Добавить в корзину</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="product-modal" id="bumble-modal">
        <div class="modal-content">
            <div class="modal-close"></div>
            <div class="modal-product-image" style="background-image: url('img/Бамбл_2045х1147-1.jpg');"></div>
            <div class="modal-product-info">
                <h3 class="modal-product-name">Бамбл</h3>
                <p class="modal-product-description">Авторский кофейный коктейль с добавлением цитрусового сока и меда. Сладкий и освежающий напиток с ярким вкусом и ароматом.</p>
                
                <div class="modal-nutrition">
                    <h4>Пищевая ценность (на 100 мл):</h4>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <span class="nutrition-name">Калории</span>
                            <span class="nutrition-value">85 ккал</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Белки</span>
                            <span class="nutrition-value">0.5 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Жиры</span>
                            <span class="nutrition-value">0.2 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Углеводы</span>
                            <span class="nutrition-value">20.3 г</span>
                        </div>
                        <div class="nutrition-item">
                            <span class="nutrition-name">Кофеин</span>
                            <span class="nutrition-value">75 мг</span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-sizes">
                    <h4>Размеры и цены:</h4>
                    <div class="size">
                        <span class="volume">S (250 мл)</span>
                        <span class="price">270 ₽</span>
                    </div>
                    <div class="size">
                        <span class="volume">M (350 мл)</span>
                        <span class="price">320 ₽</span>
                    </div>
                    <div class="size">
                        <span class="volume">L (450 мл)</span>
                        <span class="price">370 ₽</span>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <div class="quantity-selector">
                        <button class="quantity-btn minus">-</button>
                        <input type="number" value="1" min="1" max="99">
                        <button class="quantity-btn plus">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="3" data-size="S">Добавить в корзину</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно корзины -->
    <div class="modal" id="cart-modal">
        <div class="modal-content cart-modal-content">
            <div class="modal-close"></div>
            <h2>Корзина</h2>
            
            <div class="cart-items-container" id="cart-items">
                <!-- Здесь будут отображаться товары в корзине -->
            </div>
            
            <div class="cart-summary">
                <div class="cart-total">
                    <span>Итого:</span>
                    <span id="cart-total-price">0 ₽</span>
                </div>
                <button id="checkout-button" class="checkout-button">Оформить заказ</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно авторизации -->
    <div class="modal" id="auth-modal">
        <div class="modal-content auth-modal-content">
            <div class="modal-close"></div>
            
            <!-- Форма входа -->
            <div id="login-form-container">
                <h2>Вход в аккаунт</h2>
                
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" name="email" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="login-password">Пароль</label>
                        <input type="password" id="login-password" name="password" class="form-control" required>
                    </div>
                    
                    <div class="error-message" id="login-error"></div>
                    
                    <button type="submit" class="form-submit">Войти</button>
                </form>
                
                <div class="auth-switch">
                    <p>Нет аккаунта? <a href="#" class="switch-to-register">Зарегистрироваться</a></p>
                </div>
            </div>
            
            <!-- Форма регистрации -->
            <div id="register-form-container" style="display: none;">
                <h2>Регистрация</h2>
                
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-email">Email*</label>
                        <input type="email" id="register-email" name="email" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-password">Пароль*</label>
                        <input type="password" id="register-password" name="password" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-confirm-password">Подтверждение пароля*</label>
                        <input type="password" id="register-confirm-password" name="confirm-password" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-first-name">Имя</label>
                        <input type="text" id="register-first-name" name="first-name" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="register-last-name">Фамилия</label>
                        <input type="text" id="register-last-name" name="last-name" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="register-phone">Телефон</label>
                        <input type="tel" id="register-phone" name="phone" class="form-control">
                    </div>
                    
                    <div class="error-message" id="register-error"></div>
                    
                    <button type="submit" class="form-submit">Зарегистрироваться</button>
                </form>
                
                <div class="auth-switch">
                    <p>Уже есть аккаунт? <a href="#" class="switch-to-login">Войти</a></p>
                </div>
            </div>
        </div>
    </div>

    <div class="cookie-popup">
        <p>Мы используем файлы cookie для улучшения работы сайта</p>
        <button>ПОНЯТНО</button>
    </div>

    <footer>
        <div class="container footer-container">
            <div class="footer-links">
                <a href="our-coffee-shops.html">Кофейни</a>
                <a href="contacts.html">Контакты</a>
            </div>
            <div class="footer-contact">
                8 800 555 19 66
            </div>
        </div>
    </footer>
    
    <script src="script.js"></script>
    <script src="auth.js"></script>
    <script src="cart.js"></script>
    <script>
        // Обработка открытия и закрытия модальных окон товаров
        document.addEventListener('DOMContentLoaded', function() {
            // Получаем все карточки товаров
            const menuItems = document.querySelectorAll('.menu-item');
            
            // Для каждой карточки добавляем обработчик клика
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Получаем ID товара из атрибута data-product
                    const productId = this.getAttribute('data-product');
                    // Находим соответствующее модальное окно
                    const modal = document.getElementById(`${productId}-modal`);
                    // Показываем модальное окно
                    if (modal) {
                        modal.classList.add('show');
                        document.body.style.overflow = 'hidden'; // Блокируем прокрутку страницы
                    }
                });
            });
            
            // Обработчики для закрытия модальных окон
            const closeButtons = document.querySelectorAll('.modal-close');
            const modals = document.querySelectorAll('.product-modal');
            
            // Закрытие по кнопке
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.product-modal');
                    modal.classList.remove('show');
                    document.body.style.overflow = ''; // Возвращаем прокрутку страницы
                });
            });
            
            // Закрытие по клику вне модального окна
            modals.forEach(modal => {
                modal.addEventListener('click', function(event) {
                    if (event.target === this) {
                        this.classList.remove('show');
                        document.body.style.overflow = ''; // Возвращаем прокрутку страницы
                    }
                });
            });
            
            // Обработчики для кнопок изменения количества
            const quantitySelectors = document.querySelectorAll('.quantity-selector');
            
            quantitySelectors.forEach(selector => {
                const minusBtn = selector.querySelector('.minus');
                const plusBtn = selector.querySelector('.plus');
                const input = selector.querySelector('input');
                
                minusBtn.addEventListener('click', function() {
                    let value = parseInt(input.value, 10);
                    value = Math.max(1, value - 1);
                    input.value = value;
                });
                
                plusBtn.addEventListener('click', function() {
                    let value = parseInt(input.value, 10);
                    value = Math.min(99, value + 1);
                    input.value = value;
                });
            });
            
            // Обработчики для кнопок "Добавить в корзину"
            const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
            
            addToCartButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const productId = this.getAttribute('data-product-id');
                    const size = this.getAttribute('data-size');
                    const quantityInput = this.parentElement.querySelector('input');
                    const quantity = parseInt(quantityInput.value, 10);
                    
                    // Добавляем товар в корзину
                    if (window.cart) {
                        window.cart.addToCart(productId, quantity, size);
                    }
                    
                    // Закрываем модальное окно товара
                    const modal = this.closest('.product-modal');
                    modal.classList.remove('show');
                    document.body.style.overflow = '';
                });
            });
            
            // Обработчики для выбора размера
            const sizeOptions = document.querySelectorAll('.modal-sizes .size');
            
            sizeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Убираем выделение со всех размеров
                    const sizes = this.parentElement.querySelectorAll('.size');
                    sizes.forEach(size => {
                        size.classList.remove('selected');
                    });
                    
                    // Выделяем выбранный размер
                    this.classList.add('selected');
                    
                    // Обновляем атрибут data-size у кнопки "Добавить в корзину"
                    const addToCartBtn = this.closest('.modal-product-info').querySelector('.add-to-cart-btn');
                    const sizeText = this.querySelector('.volume').textContent.split(' ')[0];
                    addToCartBtn.setAttribute('data-size', sizeText);
                    
                    // Обновляем цену
                    const price = this.querySelector('.price').textContent;
                    const priceDisplay = this.closest('.modal-product-info').querySelector('.modal-product-price');
                    if (priceDisplay) {
                        priceDisplay.textContent = price;
                    }
                });
            });
            
            // Выделяем первый размер по умолчанию
            const defaultSizes = document.querySelectorAll('.modal-sizes .size:first-child');
            defaultSizes.forEach(size => {
                size.classList.add('selected');
            });
        });
    </script>
</body>
</html> 